@inject DreamJourney.Services.Interfaces.IUserContextService UserContext
@using Microsoft.AspNetCore.Http
@{
    ViewData["Title"] = "Home";
}

<section class="hero-section position-relative d-flex align-items-center"
         style="background: url('/images/tourists.jpg') center/cover no-repeat;">

    <div class="position-absolute top-0 start-0 w-100 h-100 moving-gradient"></div>

    <div class="container text-end position-relative">
        <div class="p-5 rounded-4 text-light hero-text animate__animated animate__fadeInRight"
             style="max-width: 700px; margin-left: auto; background-color: rgba(0, 0, 0, 0.3); border-radius: 20px;">

            <h1 class="fw-bold display-5 mb-3 typing-text">Добре дошли в DreamJourney</h1>
            <p class="lead">
                Открий света със сърце, вдъхновение и приключенски дух.
                Пътувай не просто, за да видиш — а за да почувстваш.
            </p>

            <a asp-controller="Trips" asp-action="List"
               class="btn-begin btn-lg btn-light mt-3 shadow-sm">
                Започни своето пътешествие
            </a>
        </div>
    </div>
</section>

<section class="container text-center my-5 animate__animated animate__fadeInUp">
    <h2 class="fw-bold cta-tan-text mb-3">За Dream Journey</h2>
    <p class="text-muted mx-auto" style="max-width: 700px;">
        Dream Journey е платформа за вдъхновяващи пътешествия.
        Свързваме те с уникални дестинации и специални предложения,
        за да създадеш спомени, които ще останат завинаги.
    </p>
</section>

<!-- POPULAR DESTINATIONS -->
<section class="container my-5">
    <h2 class="text-center cta-tan-text fw-bold mb-4 animate__animated animate__fadeInDown">
        Популярни дестинации
    </h2>

    <div class="row g-4">

        <!-- PARIS -->
        <div class="col-md-3 col-sm-6 animate__animated animate__fadeInUp">
            <a asp-controller="Trips" asp-action="List" asp-route-SearchTerm="Париж"
               class="text-decoration-none">
                <div class="card border-0 shadow-sm hover-card h-100">
                    <img src="/images/paris.jpg" class="card-img-top rounded-top" alt="Paris">
                    <div class="card-body text-center">
                        <h5 class="card-title fw-bold text-dark">Париж</h5>
                        <p class="card-text cta-tan-text text-muted">
                            Романтика и изкуство на всяка крачка.
                        </p>
                    </div>
                </div>
            </a>
        </div>

        <!-- BALI -->
        <div class="col-md-3 col-sm-6 animate__animated animate__fadeInUp animate__delay-1s">
            <a asp-controller="Trips" asp-action="List" asp-route-SearchTerm="Бали"
               class="text-decoration-none">
                <div class="card border-0 shadow-sm hover-card h-100">
                    <img src="/images/bali.jpg" class="card-img-top rounded-top" alt="Bali">
                    <div class="card-body text-center">
                        <h5 class="card-title fw-bold text-dark">Бали</h5>
                        <p class="card-text cta-tan-text text-muted">
                            Екзотика, плажове и спокойствие.
                        </p>
                    </div>
                </div>
            </a>
        </div>

        <!-- TOKYO -->
        <div class="col-md-3 col-sm-6 animate__animated animate__fadeInUp animate__delay-2s">
            <a asp-controller="Trips" asp-action="List" asp-route-SearchTerm="Токио"
               class="text-decoration-none">
                <div class="card border-0 shadow-sm hover-card h-100">
                    <img src="/images/tokyo.jpg" class="card-img-top rounded-top" alt="Tokyo">
                    <div class="card-body text-center">
                        <h5 class="card-title fw-bold text-dark">Токио</h5>
                        <p class="card-text cta-tan-text text-muted">
                            Съвременност и традиция в хармония.
                        </p>
                    </div>
                </div>
            </a>
        </div>

        <!-- ICELAND -->
        <div class="col-md-3 col-sm-6 animate__animated animate__fadeInUp animate__delay-3s">
            <a asp-controller="Trips" asp-action="List" asp-route-SearchTerm="Исландия"
               class="text-decoration-none">
                <div class="card border-0 shadow-sm hover-card h-100">
                    <img src="/images/iceland.jpg" class="card-img-top rounded-top" alt="Iceland">
                    <div class="card-body text-center">
                        <h5 class="card-title fw-bold text-dark">Исландия</h5>
                        <p class="card-text cta-tan-text text-muted">
                            Огън, лед и невероятни гледки.
                        </p>
                    </div>
                </div>
            </a>
        </div>

    </div>
</section>

<!-- WHY DREAM JOURNEY -->
<section class="container py-5">
    <div class="container text-center animate__animated animate__fadeInUp">
        <h2 class="fw-bold cta-tan-text mb-4">Защо Dream Journey?</h2>
        <div class="row g-4">
            <div class="col-md-4">
                <div class="p-4 rounded shadow-sm bg-white h-100 hover-card">
                    <i class="bi bi-globe2 fs-1 text-primary mb-3"></i>
                    <h5 class="fw-bold">Глобални дестинации</h5>
                    <p class="text-muted">
                        Открий невероятни места по света — от Европа до Азия и Америка.
                    </p>
                </div>
            </div>
            <div class="col-md-4">
                <div class="p-4 rounded shadow-sm bg-white h-100 hover-card">
                    <i class="bi bi-heart-fill fs-1 text-danger mb-3"></i>
                    <h5 class="fw-bold">Персонализирани преживявания</h5>
                    <p class="text-muted">
                        Избери пътувания, които отговарят на твоя стил и мечти.
                    </p>
                </div>
            </div>
            <div class="col-md-4">
                <div class="p-4 rounded shadow-sm bg-white h-100 hover-card">
                    <i class="bi bi-shield-check fs-1 text-success mb-3"></i>
                    <h5 class="fw-bold">Сигурност и доверие</h5>
                    <p class="text-muted">
                        Работим само с проверени партньори и надеждни агенции.
                    </p>
                </div>
            </div>
        </div>
    </div>
</section>

@if (!UserContext.IsLoggedIn)
{
    <section class="container text-center py-5 bg-white shadow rounded-4 my-5 animate__animated animate__fadeInUp">
        <h2 class="fw-bold cta-tan-text">Готов ли си за следващото приключение?</h2>
        <p class="mb-4">
            Регистрирай се днес и започни своята мечтана история!
        </p>
        <a asp-controller="Users"
           asp-action="Register"
           class="btn-cta-cadetblue btn-lg px-4 shadow rounded-3">
            Регистрирай се
        </a>
    </section>
}

<button id="scrollTopBtn" class="btn btn-primary shadow rounded-circle">
    <i class="bi bi-arrow-up"></i>
</button>

@section Scripts {
    <script>
        const scrollBtn = document.getElementById('scrollTopBtn');
        window.addEventListener('scroll', () => {
            scrollBtn.style.display = window.scrollY > 400 ? 'block' : 'none';
        });
        scrollBtn.addEventListener('click', () => {
            window.scrollTo({ top: 0, behavior: 'smooth' });
        });
    </script>
}
